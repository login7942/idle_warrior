# 📋 Idle Warrior Adventure - 업데이트 이력 (Update Log)

프로젝트의 최신 변경 내역과 향후 로드맵을 관리하는 문서입니다.

---

## 🚀 최근 업데이트 내역

### [2026.01.18] - 엘리트 몬스터 시스템 도입 (완료)
*   **랜덤 강화 몬스터**: 10% 확률로 일반 몬스터 대신 체력이 1.5~3배 증가한 엘리트 몬스터가 등장합니다.
*   **보상 상향**: 엘리트 몬스터는 체력 배율만큼 골드를 추가로 드롭하며, 아이템 드롭률이 20%에서 50%로 2.5배 증가합니다.
*   **시각적 표식**: 엘리트 몬스터 이름 앞에 ⭐ 아이콘을 추가하여 즉시 구분할 수 있도록 했습니다.
*   **전투 재미 강화**: 단조로운 사냥에 변화를 주고, 엘리트 처치 시 높은 보상으로 성취감을 제공합니다.

### [2026.01.18] - 골드 보상 시스템 밸런스 리빌딩 (완료)
*   **경험치/골드 공식 분리**: 기존에 동일한 배율을 공유하던 경험치와 골드 보상을 독립적인 공식으로 분리하여 개별 밸런싱이 가능하도록 시스템을 재설계했습니다.
*   **초반 수급 개선**: 기초 골드 보상을 50G에서 200G로 4배 상향하여 극초반 스킬 학습 및 장비 강화가 원활하도록 개선했습니다.
*   **후반 인플레이션 강력 억제**: 골드 성장 지수를 1.025에서 1.017로 하향 조정하여 1000층 기준 약 1300배의 수치 폭발을 억제했습니다. (5.3조 G → 40억 G)
*   **환생 시스템 대비**: 향후 도입될 환생 시스템에서 골드가 핵심 재화로 활용될 것을 고려하여 장기적인 경제 밸런스를 확보했습니다.

### [2026.01.18] - 도감 시스템 보상 피드백 강화 (완료)
*   **스탯 증가 상세 시각화**: 도감 보상 수령 시 증가하는 공격력(ATK) 및 체력(HP) 수치를 프리미엄 알림 팝업(`_showSuccess`)을 통해 상세히 표시하도록 개선.
*   **정규/비율 보너스 구분**: T1~T4 및 T5~T6 이상의 서로 다른 보너스 산출 방식(정수 증가 vs 퍼센트 증가)을 팝업 메시지에 정확히 반영하여 정보 전달력 강화.

### [2026.01.17] - 자동 배포 및 인앱 업데이트(OTA) 시스템 구축 (완료)
*   **GitHub Actions CI/CD 연동**: 코드 푸시 시 자동으로 Android APK를 빌드하고 GitHub Release에 게시하는 자동화 워크플로우 구축.
*   **실시간 인앱 업데이트 전용 서비스**:
    *   앱 구동 시 서버의 `version.json`을 분석하여 최신 버전을 감지하는 `UpdateService` 구현.
    *   빌드 번호 및 버전 명칭(Semantic Versioning) 비교 로직 적용.
*   **프리미엄 업데이트 UI**:
    *   게임의 다크 모드 테마와 조화되는 글래스모피즘(Glassmorphism) 기반 실시간 업데이트 알림 팝업 제작.
    *   배경 Blur 처리 및 네온 블루 포인트 컬러를 활용한 하이테크 비주얼 적용.
*   **미래 확장성 확보**: 향후 Supabase/Firebase 랭킹 및 랭킹 시스템 도입 시에도 동일한 배포 망을 사용할 수 있도록 데이터와 배포 레이어 완전 분리.

### [2026.01.17] - 프리미엄 인벤토리 UI 엔진 도입 (완료)
*   **High-Fidelity 디자인**: 단순 평면 UI에서 탈피하여 그라데이션 명암, 등급별 네온 발광(Glow), 입체적인 레이아웃 적용.
*   **동적 광택(Shimmer) 효과**: 최상위 등급(신화) 아이템 슬롯에 실시간으로 흐르는 대각선 광택 애니메이션 구현.
*   **시각적 가독성 개선**: 아이콘 크기 확대 및 아이콘 후광 레이어 추가, 티어별 전용 뱃지 및 알림 마크 디자인 리뉴얼.
*   **성능 최적화**: 효율적인 애니메이션 컨트롤러 관리로 다수의 슬롯에서도 부드러운 60FPS 퍼포먼스 유지.
*   **구조적 결함 수정**: 클래스 외부에 배치되어 변수 접근 에러를 유발하던 UI 메서드들을 `_GameMainPageState` 내부로 통합하여 런타임 안정성 확보.

### [2026.01.17] - 캐릭터 그래픽 엔진 프리미엄 업그레이드 (완료)
*   **고품질 픽셀 아트 도입**: 기존 이모지/저해상도 에셋에서 64x64 밀도의 고정밀 전사 캐릭터 도트 에셋으로 전면 교체.
#### 1. 프리미엄 캐릭터 연출 (Visual Standards)
- **Breathing (숨쉬기)**: 캐릭터가 정지 상태에서도 살아있는 느낌을 주도록 `3.0초` 주기로 `5~8px` 내외의 상하 미세 이동(Transform.translate)을 적용합니다.
- **Dynamic Aura (후광 펄스)**: 캐릭터 배후에 Core 및 Bloom 레이어를 중첩 배치하고, 숨쉬기 주기와 동기화하여 역동적인 빛의 확산을 연출합니다.
- **Magic Seal (마법진)**: 캐릭터의 등급이나 위치에 따라 회전하는 마법진(Rotating Seal)을 배치하여 시각적 무게감을 더합니다.
- **Particle System**: 캐릭터 속성에 맞는 색상의 마력 입자를 생성하며, 지그재그 모션과 페이드 아웃 효과를 결합하여 자연스럽게 소멸되도록 합니다.
*   **실시간 크로마키(Transparency) 필터**: Flutter의 `ColorFiltered` 매트릭스를 활용하여 흰색 배경 이미지를 실시간으로 투명하게 처리하는 렌더링 파이프라인 구축.

### [2026.01.17] - 아이템 등급 및 색상 체계 대개편 (완료)
*   **글로벌 RPG 표준 색상 도입**: 유저 직관성을 위해 `회색(일반) -> 녹색(고급) -> 파랑(희귀) -> 보라(에픽) -> 황금(전설) -> 빨강(신화)` 순으로 색상 전면 재배치.
*   **등급 명칭 최적화**: 위계 질서가 모호했던 명칭을 `일반-고급-희귀-에픽-전설-신화`로 확정하여 성장 체감 강화.
*   **프리미엄 연출 계승**: 기존에 구현된 신화 등급 무지개 광택(Shimmer), 전설 등급 역동적 오로라 등 고품질 비주얼 로직은 등급 이동 후에도 그대로 유지되도록 설계.

### [2026.01.17] - 전투 FX 비주얼 오버홀 (완료)
*   **발밑 회전 마법진 (Rotating Foot Seal)**: 캐릭터와 몬스터 발밑에 독립적으로 회전하는 마력 고리를 배치하여 시각적 안정감과 위엄 부여.
*   **더블 레이어 블룸 오라**: Core Glow와 Outer Bloom 레이어를 분리하여, 단순 그림자가 아닌 실제 빛이 퍼지는 듯한 효과 구현.
*   **8-슬롯 지그재그 파티클**: 파티클 개수를 확대하고 사인파(Sine-wave) 기반의 지그재그 모션을 적용하여 역동성 극대화.
*   **실루엣 이너 글로우**: 캐릭터 외곽에 미세한 색상 필터를 중첩하여 배경과 완벽하게 분리된 입체형 렌더링 방식 도입.

### [2026.01.17] - 아이템 상세 정보창 내비게이션 기능 도입 (완료)
*   **좌우 화살표 탐색**: 아이템 이름 바로 옆에 화살표 버튼을 배치하여 시각적 전달력과 조작 직관성 강화.
*   **스와이프 제스처 지원**: 정보창 전체 레이어에 드래그 제스처를 적용하여 모바일 환경에서 직관적으로 아이템을 전환할 수 있도록 구현.
*   **지능형 컨텍스트 유지**:
    *   인벤토리: 현재 적용된 필터와 정렬 순서대로 탐색.
    *   장착 슬롯: 현재 착용 중인 모든 장비 사이에서 순환 탐색 가능.
*   **탐색 가이드**: 상단 헤더에 현재 위치와 전체 목록 개수(예: 1 / 100) 표시 기능 추가.

### [2026.01.17] - 신규 아이템 알림 시스템 (N 마크) 도입 (완료)
*   **직관적 알림**: 신규 획득 아이템 우측 상단에 세련된 'N' 배지 표시.
*   **자동 해제 로직**: 아이템 상세 정보를 확인하거나, 인벤토리에서 다른 메뉴로 탭을 이동할 경우 알림이 자동으로 초기화되도록 구현.
*   **시각적 조화**: 게임의 다크 모드 테마에 어울리는 RedAccent 발광 효과 적용.

### [2026.01.17] - 인벤토리 그리드 최적화 (완료)

### [2026.01.17] - 펫 동행 시스템 독립화 (완료)
*   **렌더링 레이어 분리**: 캐릭터 위젯 내부가 아닌 전투 장면 최상위 레이어에서 독립적으로 렌더링되도록 구조 개편하여 잘림 현상 완벽 해결.
*   **지능형 추적 시스템**: 캐릭터의 공격 동작을 50%의 강도로 완만하게 추적하여 연결감과 독립성을 동시에 확보.
*   **시각적 시인성 강화**: 펫 아이콘 크기 확대 및 전용 이름표 배경 추가로 가독성 향상.

### [2026.01.17] - 아이템 정보창 비교 기능 고도화 (완료)
*   **비교 로직 정밀화**: 강화 복리 수식이 적용된 최종 스탯을 기준으로 장착 중인 아이템과 비교하도록 개선.
*   **직관적 차이 표시**: 옵션 및 주능력치의 차이를 '+' 또는 '-'와 함께 색상(초록/빨강)으로 시각화.
*   **UI/UX 개선**: 비교 정보를 프리미엄 글래스 카드 레이아웃으로 구성하여 가독성 향상.

### [2026.01.16] - 펫 시스템(보유/동행 효과) 개발 착수
*   **시스템 설계**: 보유 시 상시 스탯 상승(보유 효과)과 장착 시 특수 효과(동행 효과)를 제공하는 하이브리드 펫 시스템 설계 완료.
*   **스탯 밸런싱**: 펫 등급(1~6등급)에 따른 공격력/체력 증폭 배율 및 유틸리티 효과 기획 보완.
*   **데이터 모델 정의**: `Pet` 클래스 및 등급별 고유 스킬 데이터 구조화 시작.

### [2026.01.16] - UI 고정 규격 시스템(Fixed Sizing) 도입 및 인터페이스 표준화
*   **고정 너비 버튼 시스템**: 스킬 개방, 업적 보상 등 리스트 내 모든 액션 버튼의 너비를 고정하여 텍스트 길이에 관계없이 안정적인 시각적 정렬 보장.
*   **FittedBox 폰트 스케일링**: 버튼 내 골드 수치나 텍스트가 길어질 경우 자동으로 가독성 있게 폰트 크기를 조절하는 동적 스케일링 적용.
*   **인터페이스 통일성 강화**: "프로토타입" 느낌을 제거하고 상용화 수준의 정렬된 프리미엄 UI 디자인 원칙 준수.

### [2026.01.16] - 아이템 등급 비주얼 시스템(6등급) 규격 정립
*   **등급별 시각적 아이덴티티 확정**: 일반부터 전설(6등급)까지 각 등급의 역할을 부여하고, 그에 맞는 명확한 색상 및 이펙트 가이드라인 수립.
*   **성능 중심 이펙트 설계**: FPS 저하를 방지하기 위해 셰이더나 파티클 대신 애니메이션 컨테이너와 그라데이션 이동만을 사용하는 최적화된 비주얼 로직 설계.
*   **사용자 경험(UX) 강화**: '스크롤을 멈추게 만드는' 6등급 전설 아이템의 Wave 확산 효과 등 도파민 자극 요소를 시각적으로 구현하기 위한 기반 마련.

### [2026.01.16] - 인벤토리 UI 프리미엄 개편 및 애니메이션 고도화
*   **컴팩트 컨트롤 카드**: 필터와 정렬 버튼을 하나의 세련된 GlassContainer 카드 내에 통합하여 상하 공간 효율을 30% 이상 개선.
*   **슬림 버튼 디자인**: 버튼 높이를 과감하게 축소(최대 32px)하고 폰트 크기를 최적화하여 아이템 그리드 시인성 확보.
*   **터치 피드백 시스템(Press Scale)**: 모든 버튼과 아이템 슬롯에 클릭 시 미세하게 수축하는 0.95 Scale 애니메이션을 적용하여 타격감 있는 조작성 구현.
*   **성장 체감 엔진(Count-up)**: 가루, 강화석 등 보유 재료 수치가 변화할 때 숫자가 부드럽게 올라가는 애니메이션을 적용하여 보상 획득 체감 극대화.
*   **그리드 레이아웃 최적화**: 아이템 그리드의 상하 여백을 조정하여 한 화면에 더 많은 아이템이 노출되도록 개선.

### [2026.01.15] - 대규모 시스템 기능 확장 및 그래픽 품질 고도화
*   **60FPS UI 엔진 도입**: 모든 UI 애니메이션을 Ticker 기반으로 전면 개편하여 물 흐르듯 부드러운 프레임(스킬 쿨타임, 게이지 바) 구현.
*   **감쇠 애니메이션(Damping)**: HP 바와 EXP 바가 변화할 때 툭 끊기지 않고 부드럽게 줄어들거나 차오르는 효과 적용. 타격감 개선.
*   **스킬 시스템 도입**: 액티브 3종(파워 스트라이크 등), 패시브 4종 스킬 추가 및 골드 소모 레벨업/강화 기능 구현. 실시간 스킬 자동 사용 시스템 구축.
*   **전투 로그 시스템 개편**: 로그를 탭별(전체, 데미지, 아이템, 이벤트)로 독립 저장(각 100개)하여 가독성 및 데이터 정밀도 향상.
*   **가방 정렬 시스템**: 등급순, 강화순 정렬 기능 추가 및 아이템 아이콘 하단 강화 수치 실시간 표시.
*   **성능 최적화 엔진(CustomPainter) 도입**: 수십 개의 개별 위젯 대신 단일 캔버스에 직접 그리는 방식으로 전리품 파티클 시스템을 전면 개편하여 프레임 레이트(FPS) 대폭 향상.
*   **리페인트 경계(RepaintBoundary) 적용**: 배경, 하단 UI 등 정적인 요소에 경계를 설정하여 불필요한 화면 다시 그리기 연산을 최소화함으로써 CPU/GPU 부하 감소.
*   **아이템 옵션 시스템 전수 연동**: 공격 속도, 치명타 피해, HP 재생, 골드/경험치 보너스, 드롭률 등 모든 아이템 옵션이 플레이어 스탯에 실시간 합산되도록 로직 완비.
*   **랜덤 옵션 드롭 풀 확장**: '공격 속도', '치명타 피해', '아이템 드롭률', 'HP 재생' 옵션이 아이템 드롭 시 확률적으로 생성되도록 시스템 업데이트.
*   **전투 효율 대시보드 도입**: 실시간 사냥 데이터(골드/분, EXP/분, 킬/분)를 측정하여 화면 상단에 표시하는 시스템 구축. 60초간의 누적 데이터를 기반으로 이동 평균 계산.
*   **이모지 렌더링 호환성 개선**: 특정 OS 환경에서 이모지(💰, 💎 등)가 깨지는 현상을 해결하기 위해 UI 요소를 Material Icons로 전면 교체하여 안정성 강화.
*   **티어 시스템 일시 제외**: UI 복잡도 최적화를 위해 티어(Tier) 표시를 전면 제거하고 등급(Grade) 중심으로 시스템 개편.
*   **전투 연출 최적화**: 몬스터 즉시 리스폰 및 데미지 폰트 부드러운 상승 효과 적용.

### [2026.01.15] - Flutter 개발 환경 구축 및 가이드 작성
*   **개발 환경 구축 시작**: Windows 환경에서의 Flutter 개발을 위한 시스템 설정 프로세스를 시작했습니다.
*   **설치 가이드 제작**: 초보자도 쉽게 따라 할 수 있는 `SETUP_GUIDE.md` 문서를 신규 생성했습니다.
*   **상태 점검**: 현재 시스템 내 Flutter 미설치 상태를 확인하고, 단계별 설치 계획을 수립했습니다.
*   **설치 가이드 수정**: 공식 사이트 리다이렉트 문제로 인해 활성화되지 않던 SDK 다운로드 링크를 최신 안정 버전(3.38.7) 직접 다운로드 링크로 수정했습니다.
*   **상태 점검**: 안드로이드 라이선스 승인(`flutter doctor --android-licenses`) 완료. 개발 환경 구축이 최종 확정되었습니다.
*   **Main Navigation Dock (최하단)**:
    *   둥근 모서리와 투명도가 적용된 모던한 플로팅 독 구조.
    *   **10대 핵심 메뉴 배치**:
        1. **전투**: 메인 전투 및 스테이지 진행.
        2. **캐릭터**: 전투력 등 상세 능력치 합산 정보.
        3. **사냥터**: 지역 이동 및 보스 레이드 접근.
        4. **가방**: 장비 관리(장착/분해/강화/재감정) 및 재료 확인.
        5. **제작**: 기본 장비 정밀 제작 시스템.
        6. **스킬**: 패시브/액티브 스킬 트리.
        7. **펫**: 동행 및 보유 효과 관리.
        8. **유물**: 환생 포인트를 활용한 영구 성물 습득.
        9. **업적**: 도전 과제 및 보상 수령.
        10. **관리자**: 수치 조정 및 데이터 초기화 (개발용 전용).
*   **전체 UI 프레임워크 대규모 개편 시작**: 고퀄리티 방치형 게임의 레이아웃을 모델링하여 상단 대시보드, 중앙 배틀 필드, 하단 통합 로그 및 내비게이션 독(Dock) 구조를 설계했습니다.
*   **비주얼 전투 시스템 최종 안착**: 배경(평원), 캐릭터(전사), 몬스터(슬라임) 이미지를 적용하고 공격/피격 애니메이션 및 데미지 수치 연출을 완료했습니다.
*   **아이템 드롭 로직**: 몬스터 처치 시 확률적으로 플레이어 레벨에 맞는 랜덤 아이템을 드롭하며, 가방(최대 100칸)에 자동 저장됩니다.
*   **상세 스탯 연동**: 장비 장착 시 플레이어의 공격력, 방어력, 체력 수치가 실시간 계산되어 전투에 반영되도록 설계했습니다.
*   **UI 탭 전환**: '전투'와 '가방' 화면을 오갈 수 있는 하단 내비게이션 바를 추가했습니다.
*   **설치 가이드 보완**: 사용자가 혼동하기 쉬운 'Android SDK Command-line Tools'의 상세 설치 경로와 설명을 추가했습니다.
*   **기술 스택 공식 전환**: 기존 Vanilla JS/CSS 기반 웹 프로젝트에서 Flutter(Dart) 기반 모바일 앱 아키텍처로 전환을 확정했습니다.

### [2024.01.15] - 시스템 안정화 및 기획 정립 세션 (기존 버전)
*   **티어-등급 일치화**: T1~T6 티어 시스템에 맞춰 아이템 등급 명칭(일반~전설)과 색상을 1:1로 고정하여 직관성을 높였습니다.
*   **대장간 정리**: 조각 확정 제작에서 불필요했던 T1 레비피를 제거하고, T0 조각 표기 버그를 수정했습니다.
*   **승급 시스템 고도화**:
    *   +20강 장비에서 [승급] 버튼이 정상 노출되도록 데이터 구조를 개선했습니다.
    *   승급 실패 보정(Pity)이 3회 누적된 후 4회차 시도시 버튼에 **'✨ 승급 확정'** 강조 텍스트를 추가했습니다.
*   **아이템 및 옵션 잠금 시스템 수정**:
    *   아이템 잠금(`Item Lock`) 상태 변경 시 UI에 즉시 반영되지 않던 캐시 동기화 버그를 수정했습니다.
    *   옵션 잠금(`Affix Lock`) 시각적 표시와 아이템 잠금 상태 표시가 엇갈리던 현상을 해결했습니다.
    *   **잠금 기능 강화**: 이제 아이템이 잠긴 상태에서는 **분해, 재설정**뿐만 아니라 **강화, 승급, 잠재력 개방**이 모두 차단되도록 보안을 강화했습니다.
    *   잠금 버튼의 클릭 영역을 확장하고 호버 효과를 추가하여 조작성을 개선했습니다.
*   **UI/UX 동기화 개선**:
    *   인벤토리에서 아이템 일괄 분해 후 제작 탭으로 이동 시 재료 수량이 즉시 반영되지 않던 문제를 수정했습니다.
    *   대량 분해 완료 시 `MATERIALS_UPDATED` 이벤트를 명시적으로 발생시켜 탭 전환 없이도 데이터가 갱신되도록 보완했습니다.
*   **잠재능력 개방 수정**: 잠재능력 개방 시 발생하던 `Undefined reference` 에러를 수정하고 최대 슬롯을 2개로 고정했습니다.
*   **관리자 도구 확장**:
    *   **몬스터 방어력 배율 조절**: 관리자 패널에서 몬스터의 방어력을 0배(무력화)에서 10배(철벽)까지 실시간으로 조절할 수 있는 슬라이더를 추가했습니다.
    *   **일괄 강화**: 테스트를 위해 착용 장비를 원하는 수치로 일괄 강화할 수 있는 기능을 추가했습니다.

### [2024.01.14] - 성능 최적화 세션
*   **가상 리스트 도입**: 수백 개의 아이템 렌더링 시에도 60fps를 유지하도록 인벤토리 엔진을 교체했습니다.
*   **일괄 프로세싱**: 수천 개의 아이템을 합성/분해할 때 게이지 UI를 도입하고 연산 부하를 분산했습니다.
*   **레이아웃 보정**: 모바일 내비게이션 바가 UI를 가리는 현상을 수정했습니다.

---

## 📅 개발 로드맵 (Roadmap)

### Phase 2: 가방 관리 및 편의성 강화 (진행 중)
- [x] 인벤토리 가득 참 경고 알림 및 제작 제한 로직 구현. (MAX: 500)
- [ ] 재료 탭 내에서 희귀 재료 등급별 자동 필터링 기능.
- [ ] 장비 상세 비교 기능 (장착 중인 아이템과 스탯 증감 직접 비교).

### Phase 3: 콘텐츠 확장
- [ ] 특수 던전(황금의 방, 수련의 탑 등) 컨텐츠 밸런싱.
- [ ] 랭킹 시스템 (LocalStorage 기반 로컬 랭킹 또는 클라우드).
- [ ] 장비 외형(Sprite) 연동 시스템 고도화.

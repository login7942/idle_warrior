# 📄 Idle Warrior Adventure - 시스템 명세서 (System Spec)

현재 프로젝트에 구현된 핵심 기능, UI/UX 디자인, 기술적 특징을 정리한 문서입니다.

---

## ⚙️ 1. 핵심 엔진 및 퍼포먼스
*   **60FPS UI Ticker System**: `AnimationController`를 전역 틱커로 활용하여 모든 UI 요소(게이지, 쿨타임, 데미지 폰트)를 초당 60프레임으로 부드럽게 갱신.
*   **고급 애니메이션 (Tween Damping)**: HP 바 및 EXP 바에 TweenAnimation을 적용하여 수치 변경 시 자연스러운 감쇠 효과 구현.
*   **하이브리드 자산 렌더링**: `ColorFiltered` 행렬 연산을 통한 실시간 크로마키(배경 제거) 필터 적용. (AI 생성 이미지의 배경을 투명하게 처리)

## ⚔️ 2. 전투 및 성장 시스템
*   **무한 자동 전투 (Single Action Loop)**: 몬스터 사망 시 즉시 리스폰되는 속도감 있는 전투 루프. 한 턴에 하나의 행동(스킬/기본공격)만 수행하여 프레임 안정성 확보.
*   **공격 속도 동적 주기**: 공격 속도에 따라 턴 주기가 실시간으로 변동(최대 초당 4회).
*   **스탯 메커니즘**: 공격력(ATK), 방어력(DEF), 최대 체력(MaxHP), 전투력(CP) 유기적 계산.
*   **스킬 엔진**:
    *   **라운드 로빈 필터**: 사용 가능한 스킬을 순차적으로 탐색하여 스킬 간 중첩 및 독점 방지.
    *   **액티브**: 바람 베기, 강격, 얼음 화살 등 (자동 사용 및 쿨타임 최적화).
    *   **패시브**: 근력 강화, 철벽 방어, 체력 증강, 마나 순환.
*   **전투 로그**: 전체/데미지/아이템/이벤트 4종 탭별 분리 저장 및 가로 스크롤 레이아웃.

## 📦 3. 아이템 및 인벤토리 시스템
*   **장비 체계**: 6종 부위(무기, 투구, 갑옷, 신발, 반지, 목걸이) 및 6종 등급(일반, 우수, 희귀, 영웅, 전설, 신화).
*   **강화(Enhance)**: 골드를 사용하여 장비 레벨업. 실패 패널티 없는 성장 위주 시스템.
*   **인벤토리 관리**: 
    *   **정렬**: 등급순(Grade), 강화순(Level) 필터링.
    *   **시각화**: 아이템 아이콘 하단에 강화 수치(+N) 실시간 오버레이.
*   **상세 확인**: 현재 장착 장비와 스탯 증감을 비교해주는 다이얼로그 팝업.

## 🎨 4. UI/UX 및 디자인 언어
*   **Full Screen Atmosphere**: 사냥터 배경 이미지가 화면 전체(`Positioned.fill`)를 가득 채우는 서라운드 뷰 레이아웃.
*   **Modern Glassmorphism**:
    *   투명도 + 어두운 그라데이션 오버레이를 통한 시각적 깊이감 확보.
    *   반투명 블랙 캡슐 형태의 '효율 정보창' (골드/분, EXP/분).
*   **가독성 최적화**:
    *   모든 중요 텍스트에 `Shadow` 효과 적용하여 밝은 배경에서도 선명함 유지.
    *   수치 데이터에 3자리 콤마(`,`) 포맷팅 적용.
*   **장비 슬롯 시각화**: 장착된 슬롯은 등급별 컬러로 빛나고(Glow), 빈 슬롯은 흐릿한 실루엣으로 표시.

---

## 🛠 5. 기술 스택
*   **프레임워크**: Flutter (Dart)
*   **상태 관리**: `StatefulWidget` 기반 실시간 갱신 시스템.
*   **디자인**: Material 3 기반 커스텀 테마 & 이모지 아이콘 & AI 생성 픽셀 아트.

## 🚀 6. 배포 및 업데이트 시스템 (Deployment & OTA)
*   **자동 업데이트 (OTA)**: 앱 실행 시 서버(GitHub)의 `version.json`을 확인하여 최신 APK를 자동으로 다운로드 및 설치 유도.
*   **CI/CD 자동화**: GitHub Actions를 통해 코드 푸시 시 자동으로 APK 빌드 및 업데이트 서버 갱신.
*   **미래 확장성 (Scalability)**: 
    *   현재의 OTA 시스템은 향후 **Supabase** 또는 **Firebase** 도입 시 리얼타임 DB와 연동하여 '강제 업데이트' 및 '공지사항' 기능으로 즉시 전환 가능.
    *   사용자 데이터 및 랭킹 시스템 추가 시에도 업데이트 레이어와 데이터 레이어가 분리되어 있어 유연한 확장이 가능함.
